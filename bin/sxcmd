#!/usr/bin/env php
<?php
/**
 * sxcmd
 * simple commandline interface to a skylable sx cluster
 *
 * @package     sxcmd
 * @author      Martin Pircher <mplx+coding@donotreply.at>
 * @copyright   Copyright (c) 2014-2015, Martin Pircher
 * @license     http://opensource.org/licenses/BSD-3-Clause BSD-3-Clause
 **/

require __DIR__ . '/../vendor/autoload.php';

use Symfony\Component\Console\Application;

use mplx\sxcmd\UserListCommand;
use mplx\sxcmd\VolumeListCommand;
use mplx\sxcmd\VolumeLocateCommand;
use mplx\sxcmd\SelfUpdateCommand;

set_time_limit(0);

try {
	$application = new Application('sxcmd', '@sxcmd_version@');

    $application->add(new UserListCommand());
	$application->add(new VolumeListCommand());
    $application->add(new VolumeLocateCommand());
    $application->add(new SelfUpdateCommand());

	$application->run();
} catch (\Exception $e) {
    echo "Something went wrong..." . PHP_EOL;
    echo $e->getMessage() . PHP_EOL;
}
